<!DOCTYPE html>
<ui:composition template="/WEB-INF/templates/main.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="body">
		<h:form id="form">
			<div class="container">
				<div>
				<TABLE><tr><th style="color:#483D8B;">
					<h4>Users</h4></th>
					<td><h:outputLink value="/users/addUser.xhtml"> <img src="../addbutton.jpg"
									style="border: none;margin-left:1020px; max-width: 100%;width:60px" alt="test" /></h:outputLink>
							</td></tr>
					</TABLE>
				</div>

				<div>
					<p:messages globalOnly="true" />
				</div>

				<div class="table-responsive">
<h:dataTable value="#{userBean.users}" var="users" styleClass="table table-striped table-hover"> 
 <h:column>
          <f:facet name="header">Emp ID</f:facet>
          <h:outputText id="id" value="#{users.id}" var="delete" />
        </h:column>
          <!-- <h:column>
          <f:facet name="header">Photo</f:facet>
	<img src="#{userBean.user.employeePhoto}" height="90px" width="50px" />
			</h:column>
          -->
        <h:column>
          <f:facet name="header">FirstName</f:facet>
          <h:outputText id="first_name" value="#{users.firstName}" />
        </h:column>
        <h:column>
          <f:facet name="header">LastName</f:facet>
          <h:outputText id="last_name" value="#{users.lastName}" />
        </h:column>
         <h:column>
          <f:facet name="header">Role</f:facet>
          <h:outputText id="role" value="#{users.getUserRole().getName()}" />
        </h:column>
         <h:column>
          <f:facet name="header">Status</f:facet>
          <h:outputText id="status" value="#{users.status}" />
        </h:column>
       <h:column>
         <table>
         <tr>
          <td><f:facet name="header" style="font-align:200px">Action</f:facet></td>
         <td> <h:commandLink  action="#{userBean.getUser(users.id)}"> <img src="./editIcon.jpg"
									style="border: none; max-width:80%; width:32px" alt="test" /></h:commandLink>
		  <h:commandLink onclick="alert('Do you want to delete #{users.id} user?')" actionListener="#{userBean.deleteUser(users.id)}"> 
		  <img src="./deleteIcon.png" style="border: none; margin-right:100px; max-width: 80%;width:18px" alt="test" /></h:commandLink></td></tr>
		  </table>
		 </h:column>
        </h:dataTable>
   
    </div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>
